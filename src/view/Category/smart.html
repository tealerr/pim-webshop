<!DOCTYPE html>
<html lang="en-US">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>PIM SMART SHOP</title>
    <link rel="stylesheet" href="../styles/components.css" />
    <link rel="stylesheet" href="../styles/icons.css" />
    <link rel="stylesheet" href="../styles/responsee.css" />
    <link rel="stylesheet" href="../owl-carousel/owl.carousel.css" />
    <link rel="stylesheet" href="../owl-carousel/owl.theme.css" />
    <!-- CUSTOM STYLE -->
    <link rel="stylesheet" href="../styles/template-style.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" />
    <link href="http://fonts.googleapis.com/css?family=Open+Sans:400,300,600,700,800&subset=latin,latin-ext"
        rel="stylesheet" type="text/css" />
    <script type="text/javascript" src="../script/jquery-1.8.3.min.js"></script>
    <script type="text/javascript" src="../script/jquery-ui.min.js"></script>
    <!-- <script type="text/javascript" src="script/cart.js"></script> -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <script src="./product.js"></script>
    <style>
        .card strong {
            font-size: .8rem;
        }
    </style>
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.css" />
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.min.js"></script>
    <style>
        .slick-dots {
            display: flex;
            width: 100%;
            justify-content: center;
            list-style: none;
            margin-top: 20px;
        }

        .slick-dots li {
            margin: 0 5px;
            cursor: pointer;
        }

        .slick-dots li.slick-active button {
            background: #28a745;
            color: #fff;
        }

        .slick-dots li button {
            width: 30px;
            cursor: pointer;
            height: 30px;
            border-radius: 50%;
            border: none;
        }
    </style>

</head>

<body class="size-1520">
    <!-- HEADER -->
    <header>

    </header>
    <!-- ASIDE NAV AND CONTENT -->
    <div class="line">
        <div class="box margin-bottom">
            <div class="margin2x">
                <!-- ASIDE NAV -->
                <aside class="s-12 m-4 l-3 xl-2">
                    <h4 class="margin-bottom">หมวดหมู่สินค้า</h4>
                    <div class="aside-nav minimize-on-small">
                        <p class="aside-nav-text">หมวดหมู่สินค้า</p>
                        <ul>
                            <li><a href="./electricAppliance.html">เครื่องใช้ไฟฟ้า</a></li>
                            <li>
                                <a href="./2handclothes.html">เสื้อผ้ามือสอง</a>
                            </li>
                            <li>
                                <a href="./consumerGoods.html">เครื่องอุปโภคบริโภค</a>
                            </li>
                            <li><a href="./giftShop.html">กิ๊บช็อป</a></li>
                            <li>
                                <a href="./bagAndShoes.html">กระเป๋าและรองเท้า</a>
                            </li>
                            <li>
                                <a href="./stationery.html">เครื่องเขียน</a>
                            </li>
                        </ul>
                    </div>
                </aside>

                <!-- CONTENT -->
                <section class="s-12 m-8 l-9 xl-10">
                    <div class="single-item">
                        <img src="../image/indexnew1.png"
                            style="width: 1000px; height: 300px; border-radius: 10px; object-fit: cover; overflow: hidden;">
                        <img src="../image/indexnew2.png"
                            style="width: 1000px; height: 300px; border-radius: 10px; object-fit: cover; overflow: hidden;">
                        <img src="../image/indexnew3.png"
                            style="width: 1000px; height: 300px; border-radius: 10px; object-fit: cover; overflow: hidden;">
                    </div>
                    <nav class="breadcrumb-nav">
                        <ul>
                            <li><a href="smart.html">หมวดหมู่สินค้า</a></li>
                        </ul>
                    </nav>
                    <h1 class="margin-bottom">Products</h1>
                    <div id="render" class="margin2x gridproduct">

                    </div>
            </div>
            </section>
        </div>
    </div>
    </div>
    <!-- FOOTER -->
    <footer>
        <div class="line">
            <div class="s-12 l-6">
                <p>Copyright 2023, PIM Smart Shop</p>
            </div>
            <div class="s-12 l-6">
                <a class="right" href="" title="Responsee - lightweight responsive framework">Design by Teeramate and
                    Paiboon Team</a>
            </div>
        </div>
    </footer>
    <script type="text/javascript" src="../script/responsee.js"></script>
    <script type="text/javascript" src="../../../owl-carousel/owl.carousel.js"></script>
    <script src="./navbar.js"></script>
    <script type="text/javascript">
        var urlx = new URL(window.location.href);
        var searchx = urlx.searchParams.get("search");

        jQuery(document).ready(function ($) {
            var owl = $("#header-carousel");
            owl.owlCarousel({
                nav: false,
                dots: true,
                items: 1,
                loop: true,
                navText: ["&#xf007", "&#xf006"],
                autoplay: true,
                autoplayTimeout: 3000,
            });
        });



        $(document).ready(() => {
            $('.single-item').slick({
                dots: true,
                infinite: true,
                speed: 500,
                autoplaySpeed: 2000,
                autoplay: true,
                prevArrow: false,
                nextArrow: false
            });
            if (!searchx) {
                searchx = "";
            }
            render();
        })

        function render() {
            var html = "";
            for (let i = 0; i < productMaster.electric.length; i++) {
                const element = productMaster.electric[i];
                if (String(element.name).replace(/ /g, '').toLowerCase().includes(String(searchx).replace(/ /g, '')
                        .toLowerCase())) {

                    var outofstock = "";
                    if (element.qty <= 0) {
                        outofstock = "outofstock";
                    }
                    html += `
                <div class="gridproductitems ${outofstock}">
                        <div class="card">
                            <a href="">
                                <img class="card-img" src="${element.img}" alt="${element.name}" style="width: 100%;" />
                            </a>
                            <div class="card-content">
                                <a href="/" class="card-title margin-bottom">
                                    <h5 style="margin-bottom: 0;">
                                    <strong>${element.name}</strong>
                                    </h5>
                                </a>
                                <h6 style="color: #adadad; font-size: .7rem;">
                                    เหลืออยู่ ${element.qty} ชิ้น
                                </h6>
                                <h5 class="card-price">
                                    ${numberWithCommas((element.price).toFixed(2))} บาท
                                </h5>
                                <p class="margin-bottom"></p>
                                <div class="customform s-12 margin-bottom2x">
                                    <div>
                                        <button onclick="addCart(${element.id})" class="button rounded-btn submit-btn s-12">
                                            Add to Cart
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    `;
                }
            }
            for (let i = 0; i < productMaster.cloth.length; i++) {
                const element = productMaster.cloth[i];
                if (String(element.name).replace(/ /g, '').toLowerCase().includes(String(searchx).replace(/ /g, '')
                        .toLowerCase())) {

                    var outofstock = "";
                    if (element.qty <= 0) {
                        outofstock = "outofstock";
                    }
                    html += `
                <div class="gridproductitems ${outofstock}">
                    <div class="card">
                        <a href="">
                            <img class="card-img" src="${element.img}" alt="${element.name}" style="width: 100%;" />
                        </a>
                        <div class="card-content">
                            <a href="/" class="card-title margin-bottom">
                                <h5 style="margin-bottom: 0;">
                                <strong>${element.name}</strong>
                                </h5>
                            </a>
                            <h6 style="color: #adadad; font-size: .7rem;">
                                เหลืออยู่ ${element.qty} ชิ้น
                            </h6>
                            <h5 class="card-price">
                                ${numberWithCommas((element.price).toFixed(2))} บาท
                            </h5>
                            <p class="margin-bottom"></p>
                            <div class="customform s-12 margin-bottom2x">
                                <div>
                                    <button onclick="addCart(${element.id})" class="button rounded-btn submit-btn s-12">
                                        Add to Cart
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                `;
                }
            }
            for (let i = 0; i < productMaster.food.length; i++) {
                const element = productMaster.food[i];
                if (String(element.name).replace(/ /g, '').toLowerCase().includes(String(searchx).replace(/ /g, '')
                        .toLowerCase())) {

                    var outofstock = "";
                    if (element.qty <= 0) {
                        outofstock = "outofstock";
                    }
                    html += `
                <div class="gridproductitems ${outofstock}">
                    <div class="card">
                        <a href="">
                            <img class="full-img card-img" src="${element.img}" alt="${element.name}" style="width: 100%;" />
                        </a>
                        <div class="card-content">
                            <a href="/" class="card-title margin-bottom">
                                <h5 style="margin-bottom: 0;">
                                <strong>${element.name}</strong>
                                </h5>
                            </a>
                            <h6 style="color: #adadad; font-size: .7rem;">
                                เหลืออยู่ ${element.qty} ชิ้น
                            </h6>
                            <h5 class="card-price">
                                ${numberWithCommas((element.price).toFixed(2))} บาท
                            </h5>
                            <p class="margin-bottom"></p>
                            <div class="customform s-12 margin-bottom2x">
                                <div>
                                    <button onclick="addCart(${element.id})" class="button rounded-btn submit-btn s-12">
                                        Add to Cart
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                `
                }
            }
            for (let i = 0; i < productMaster.giftshop.length; i++) {
                const element = productMaster.giftshop[i];
                if (String(element.name).replace(/ /g, '').toLowerCase().includes(String(searchx).replace(/ /g, '')
                        .toLowerCase())) {

                    var outofstock = "";
                    if (element.qty <= 0) {
                        outofstock = "outofstock";
                    }
                    html += `
                <div class="gridproductitems ${outofstock}">
                    <div class="card">
                        <a href="">
                            <img class="full-img card-img" src="${element.img}" alt="${element.name}" style="width: 100%;" />
                        </a>
                        <div class="card-content">
                            <a href="/" class="card-title margin-bottom">
                                <h5 style="margin-bottom: 0;">
                                <strong>${element.name}</strong>
                                </h5>
                            </a>
                            <h6 style="color: #adadad; font-size: .7rem;">
                                เหลืออยู่ ${element.qty} ชิ้น
                            </h6>
                            <h5 class="card-price">
                                ${numberWithCommas((element.price).toFixed(2))} บาท
                            </h5>
                            <p class="margin-bottom"></p>
                            <div class="customform s-12 margin-bottom2x">
                                <div>
                                    <button onclick="addCart(${element.id})" class="button rounded-btn submit-btn s-12">
                                        Add to Cart
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                `
                }
            }
            for (let i = 0; i < productMaster.shoe.length; i++) {
                const element = productMaster.shoe[i];
                if (String(element.name).replace(/ /g, '').toLowerCase().includes(String(searchx).replace(/ /g, '')
                        .toLowerCase())) {

                    var outofstock = "";
                    if (element.qty <= 0) {
                        outofstock = "outofstock";
                    }
                    html += `
                <div class="gridproductitems ${outofstock}">
                        <div class="card">
                            <a href="">
                                <img class="full-img card-img" src="${element.img}" alt="${element.name}" style="width: 100%;" />
                            </a>
                            <div class="card-content">
                                <a href="/" class="card-title margin-bottom">
                                <h5 style="margin-bottom: 0;">
                                <strong>${element.name}</strong>
                                </h5>
                            </a>
                            <h6 style="color: #adadad; font-size: .7rem;">
                                เหลืออยู่ ${element.qty} ชิ้น
                            </h6>
                            <h5 class="card-price">
                                ${numberWithCommas((element.price).toFixed(2))} บาท
                            </h5>
                                <p class="margin-bottom"></p>
                                <div class="customform s-12 margin-bottom2x">
                                    <div>
                                        <button onclick="addCart(${element.id})" class="button rounded-btn submit-btn s-12">
                                            Add to Cart
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
`
                }
            }
            for (let i = 0; i < productMaster.pen.length; i++) {
                const element = productMaster.pen[i];
                if (String(element.name).replace(/ /g, '').toLowerCase().includes(String(searchx).replace(/ /g, '')
                        .toLowerCase())) {

                    var outofstock = "";
                    if (element.qty <= 0) {
                        outofstock = "outofstock";
                    }
                    html += `
                <div class="gridproductitems ${outofstock}">
                        <div class="card">
                            <a href="">
                                <img class="full-img card-img" src="${element.img}" alt="${element.name}" style="width: 100%;" />
                            </a>
                            <div class="card-content">
                                <a href="/" class="card-title margin-bottom">
                                <h5 style="margin-bottom: 0;">
                                <strong>${element.name}</strong>
                                </h5>
                            </a>
                            <h6 style="color: #adadad; font-size: .7rem;">
                                เหลืออยู่ ${element.qty} ชิ้น
                            </h6>
                            <h5 class="card-price">
                                ${numberWithCommas((element.price).toFixed(2))} บาท
                            </h5>
                                <p class="margin-bottom"></p>
                                <div class="customform s-12 margin-bottom2x">
                                    <div>
                                        <button onclick="addCart(${element.id})" class="button rounded-btn submit-btn s-12">
                                            Add to Cart
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
`
                }
            }
            if (html == "") {
                html = `<div style="display: flex; justify-content: center;">
                            ไม่พบสินค้า
                        </div>`
            }
            $("#render").html(html)
        }
    </script>
</body>

</html>